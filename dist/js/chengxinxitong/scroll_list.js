SCROLLERS={},$(document).ready(function(){}),CALLBACK=null;var init_scrollers=function(t){CALLBACK=t,$(".list_box").each(function(){SCROLLERS[this]=init_scroller($(this))})},init_scroller=function(t,e){var r=(t.children(".hint"),t.children(".list"));if(e)var n=new IScroll(t[0],{probeType:3,momentum:!1,startY:e});else var n=new IScroll(t[0],{probeType:3,momentum:!1});return n.on("scroll",function(){var e=1*(r.height()-t.height()+56);1==this.directionY&&Math.abs(parseInt(this.y))>=e&&(this.y=-e,this.destroy(),update(t,-e))}),n},update=function(t,e){var r=init_scroller(t,e);SCROLLERS[t]=r;var n=t.children(".list"),i=t.children(".hint");return"正在加载数据..."==i.text()?!1:(i.text("正在加载数据..."),void(null!=CALLBACK?CALLBACK(function(){r.refresh(),i.text("上拉加载更多数据")}):setTimeout(function(){n.css("height",n.height()+70+"px"),r.refresh(),i.text("上拉加载更多数据")},3e3)))},refresh_scrollers=function(){for(var t in SCROLLERS)SCROLLERS[t].refresh()},destroy_scrollers=function(){for(var t in SCROLLERS)SCROLLERS[t].destroy(),SCROLLERS[t]=null;SCROLLERS={}};